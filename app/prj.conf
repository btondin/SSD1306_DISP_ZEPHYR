# =============================================================================
# prj.conf - Project Configuration File
# =============================================================================
# This file tells the Zephyr build system which features (drivers, libraries,
# subsystems) to include in the firmware. Each "CONFIG_" line enables or
# configures a specific kernel/driver/library option.
# Lines starting with "#" are comments and are ignored by the build system.
#
# IMPORTANT: In Kconfig files, comments MUST be on their own line.
# You CANNOT put comments after a value (e.g. CONFIG_X=123 # comment is INVALID)
# =============================================================================

# --- Console / Logging -------------------------------------------------------
# These options enable debug output via serial (UART) so you can see messages
# from the firmware on your computer's terminal.

# Enable printk() - basic text output function
CONFIG_PRINTK=y
# Enable Zephyr's logging subsystem (more advanced than printk)
CONFIG_LOG=y
# Print log messages immediately (not buffered/deferred)
CONFIG_LOG_MODE_IMMEDIATE=y

# --- Debug -------------------------------------------------------------------
# Enable debug symbols in the compiled binary (useful for debugging)
CONFIG_DEBUG=y
# Give names to threads (helps identify them in debug tools)
CONFIG_THREAD_NAME=y

# --- Display subsystem -------------------------------------------------------
# Zephyr has a generic "display" subsystem that provides a common API for all
# display drivers. This must be enabled to use any display.

# Enable the display subsystem
CONFIG_DISPLAY=y
# Set display driver log level to "debug" (verbose output)
CONFIG_DISPLAY_LOG_LEVEL_DBG=y

# --- SSD1306 OLED driver -----------------------------------------------------
# The SH1106 display uses the same driver as the SSD1306 (they are very similar
# chips). This enables the driver that communicates with the display hardware.

# Enable the SSD1306/SH1106 OLED display driver
CONFIG_SSD1306=y

# --- SPI support -------------------------------------------------------------
# SPI (Serial Peripheral Interface) is the communication bus used to send data
# to the display. The MCU sends pixel data and commands over SPI wires.

# Enable SPI bus driver
CONFIG_SPI=y

# --- GPIO support ------------------------------------------------------------
# GPIO (General Purpose Input/Output) pins are used for the display's control
# signals: the Data/Command pin (tells display if bytes are data or commands)
# and the Reset pin (hardware reset of the display chip).

# Enable GPIO driver
CONFIG_GPIO=y

# --- Optional: Reverse display colors ----------------------------------------
# Uncomment the line below to invert all pixels (white becomes black, etc.)
# CONFIG_SSD1306_REVERSE_MODE=y

# --- LVGL (Light and Versatile Graphics Library) -----------------------------
# LVGL is a popular open-source graphics library for embedded systems.
# It provides widgets (labels, buttons, arcs, etc.) and handles rendering
# graphics to the display buffer automatically.

# Enable the LVGL graphics library
CONFIG_LVGL=y
# Automatically initialize LVGL at boot (no manual setup needed)
CONFIG_LV_Z_AUTO_INIT=y
# Memory pool for LVGL objects: 16 KB of RAM reserved for LVGL
CONFIG_LV_Z_MEM_POOL_SIZE=16384

# --- LVGL Widgets ------------------------------------------------------------
# Each widget type must be explicitly enabled. Only enable what you need to
# save flash (program memory) space.

# Enable text labels (to display text on screen)
CONFIG_LV_USE_LABEL=y
# Enable line drawing widget (connects points with lines)
CONFIG_LV_USE_LINE=y
# Enable arc/circular progress widget
CONFIG_LV_USE_ARC=y
# Enable image widget (to display bitmaps)
CONFIG_LV_USE_IMAGE=y
# Enable canvas widget (draw individual pixels freely)
CONFIG_LV_USE_CANVAS=y

# --- LVGL Fonts --------------------------------------------------------------
# Fonts define how text looks. Each font takes flash space, so only enable
# the sizes you need.

# Proportional font, 14px tall (good for titles)
CONFIG_LV_FONT_MONTSERRAT_14=y
# Monospace font, 8px tall (good for small text, fits more on screen)
CONFIG_LV_FONT_UNSCII_8=y

# --- LVGL Log Configuration --------------------------------------------------
# LVGL has its own internal logging. This helps debug graphics issues.

# Enable LVGL's internal logging system
CONFIG_LV_USE_LOG=y
# Only show warnings and errors (not verbose info/trace)
CONFIG_LV_LOG_LEVEL_WARN=y

# --- LVGL color depth --------------------------------------------------------
# Color depth = how many bits represent one pixel.
# 1-bit means each pixel is either ON (white) or OFF (black) - monochrome.
# The SH1106 OLED is a monochrome display, so we use 1-bit.

# 1 bit per pixel (monochrome: black or white only)
CONFIG_LV_COLOR_DEPTH_1=y

# --- LVGL rendering buffer ---------------------------------------------------
# LVGL renders graphics into a buffer before sending to the display.
# VDB (Virtual Display Buffer) size is a percentage of the screen.
# 100% = full screen buffer (uses more RAM but avoids partial refresh artifacts).

# Rendering buffer = 100% of screen (full frame in RAM)
CONFIG_LV_Z_VDB_SIZE=100
# Always refresh the entire screen (not just changed areas)
CONFIG_LV_Z_FULL_REFRESH=y

# --- Stack size for main thread ----------------------------------------------
# The "stack" is memory reserved for function calls and local variables.
# Graphics operations need a large stack. 16 KB is generous for this demo.

# 16 KB stack for the main thread
CONFIG_MAIN_STACK_SIZE=16384
